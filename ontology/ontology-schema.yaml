version: "1.0"
namespace: "wmo-digital-ai"

classes:
  Role:
    description: "Specialized function within the digital business ecosystem"
    properties:
      - name: id
        type: string
      - name: title
        type: string
      - name: responsibilities
        type: array
      - name: required_skills
        type: array
      - name: ai_integration_points
        type: array
      - name: usesAITools
        type: array
        description: "Specific AI tools used by this role"

  DigitalVenture:
    description: "Digital business initiative or project"
    properties:
      - name: id
        type: string
      - name: name
        type: string
      - name: business_model
        type: string
        enum: [SaaS, Ecommerce, Subscription, Marketplace]
      - name: current_phase
        type: string
      - name: risk_profile
        type: object
      - name: market_segment
        type: object
      - name: usesAIModule
        type: array
        description: "AI modules integrated into the venture"
      - name: requiresMLModel
        type: boolean
        description: "Whether the venture requires machine learning models"
      - name: preferredDataSource
        type: array
        description: "Preferred data sources for AI/ML operations"
    subclasses:
      SaaSVenture:
        additional_properties:
          - name: subscription_tiers
            type: array
          - name: ai_features
            type: array

      EcommerceVenture:
        additional_properties:
          - name: product_categories
            type: array
          - name: recommendation_engine
            type: object

      ContentPlatform:
        additional_properties:
          - name: content_types
            type: array
          - name: ai_content_generation
            type: boolean

  AIProcess:
    description: "Automated process handled by AI agents"
    properties:
      - name: id
        type: string
      - name: process_type
        type: string
      - name: input_requirements
        type: array
      - name: output_specifications
        type: array
      - name: automation_level
        type: string
        enum: [Full, Partial, Assisted]
      - name: required_models
        type: array
        description: "Required AI/ML models for the process"

  RiskProfile:
    description: "Risk assessment and management framework"
    properties:
      - name: id
        type: string
      - name: risk_level
        type: string
      - name: mitigation_strategies
        type: array
      - name: monitoring_metrics
        type: array

  MarketSegment:
    description: "Target market definition and characteristics"
    properties:
      - name: id
        type: string
      - name: segment_name
        type: string
      - name: demographic_data
        type: object
      - name: market_size
        type: number
      - name: growth_potential
        type: number

constraints:
  - name: phase2_ai_requirement
    description: "Ventures in Phase2 or beyond must have at least one AIProcess"
    rule: "DigitalVenture.current_phase >= 'Phase2' => COUNT(AIProcess) >= 1"

  - name: saas_ml_requirement
    description: "SaaS ventures must specify ML model requirements"
    rule: "DigitalVenture.type == 'SaaS' => requiresMLModel != null"

relationships:
  - name: contributesTo
    source: Role
    target: DigitalVenture
    cardinality: "many-to-many"

  - name: automates
    source: AIProcess
    target: Role
    cardinality: "many-to-many"

  - name: hasPhase
    source: DigitalVenture
    target: Phase
    cardinality: "one-to-many"

  - name: targets
    source: DigitalVenture
    target: MarketSegment
    cardinality: "many-to-many"

  - name: assessedBy
    source: DigitalVenture
    target: RiskProfile
    cardinality: "one-to-one"

  - name: implementsAI
    source: DigitalVenture
    target: AIProcess
    cardinality: "one-to-many"
    constraints: "required_if_phase >= 2"
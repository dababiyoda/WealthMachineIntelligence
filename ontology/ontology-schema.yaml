version: "1.0"
namespace: "wmo-digital-ai"

classes:
  Role:
    description: "Specialized function within the digital business ecosystem"
    properties:
      - name: id
        type: string
      - name: title
        type: string
      - name: responsibilities
        type: array
      - name: required_skills
        type: array
      - name: ai_integration_points
        type: array

  DigitalVenture:
    description: "Digital business initiative or project"
    properties:
      - name: id
        type: string
      - name: name
        type: string
      - name: business_model
        type: string
        enum: [SaaS, Ecommerce, Subscription, Marketplace]
      - name: current_phase
        type: string
      - name: risk_profile
        type: object
      - name: market_segment
        type: object
      - name: unit_economics_prior
        type: object
      # New AI-specific properties
      - name: usesAIModule
        type: boolean
        description: "Indicates if the venture uses AI components"
      - name: requiresMLModel
        type: array
        description: "List of required machine learning models"
      - name: preferredDataSource
        type: array
        description: "Preferred data sources for AI/ML operations"
      - name: automationLevel
        type: string
        enum: [Basic, Advanced, Full]
    constraints:
      - rule: "IF current_phase IN ['Phase2', 'Phase3'] THEN usesAIModule MUST BE true"
      - rule: "AT LEAST ONE AIProcess MUST BE LINKED IF current_phase IN ['Phase2', 'Phase3']"

  # Sub-classes of DigitalVenture
  SaaSVenture:
    inherits: DigitalVenture
    description: "Software-as-a-Service business model"
    properties:
      - name: subscription_tiers
        type: array
      - name: service_type
        type: string
      - name: api_integration
        type: boolean

  EcommerceVenture:
    inherits: DigitalVenture
    description: "E-commerce business model"
    properties:
      - name: product_categories
        type: array
      - name: fulfillment_type
        type: string
      - name: inventory_management
        type: boolean

  ContentPlatform:
    inherits: DigitalVenture
    description: "Content creation and distribution platform"
    properties:
      - name: content_types
        type: array
      - name: monetization_model
        type: string
      - name: creator_tools
        type: array

  AIProcess:
    description: "Automated process handled by AI agents"
    properties:
      - name: id
        type: string
      - name: process_type
        type: string
      - name: input_requirements
        type: array
      - name: output_specifications
        type: array
      - name: automation_level
        type: string
        enum: [Full, Partial, Assisted]

  RiskProfile:
    description: "Risk assessment and management framework"
    properties:
      - name: id
        type: string
      - name: risk_level
        type: string
      - name: mitigation_strategies
        type: array
      - name: monitoring_metrics
        type: array

  MarketSegment:
    description: "Target market definition and characteristics"
    properties:
      - name: id
        type: string
      - name: segment_name
        type: string
      - name: demographic_data
        type: object
      - name: market_size
        type: number
      - name: growth_potential
        type: number

  UnitEconomicsPrior:
    description: "Baseline financial assumptions for opportunity screening"
    properties:
      - name: id
        type: string
      - name: expected_ctr
        type: number
      - name: expected_cr
        type: number
      - name: max_cac
        type: number
      - name: min_ltv
        type: number
      - name: viability_threshold
        type: number

relationships:
  - name: contributesTo
    source: Role
    target: DigitalVenture
    cardinality: "many-to-many"

  - name: automates
    source: AIProcess
    target: Role
    cardinality: "many-to-many"

  - name: hasPhase
    source: DigitalVenture
    target: Phase
    cardinality: "one-to-many"

  - name: targets
    source: DigitalVenture
    target: MarketSegment
    cardinality: "many-to-many"

  - name: assessedBy
    source: DigitalVenture
    target: RiskProfile
    cardinality: "one-to-one"

  - name: hasUnitEconomicsPrior
    source: DigitalVenture
    target: UnitEconomicsPrior
    cardinality: "one-to-one"

  - name: implementsAI
    source: DigitalVenture
    target: AIProcess
    cardinality: "one-to-many"
    constraints:
      - rule: "REQUIRED IF current_phase IN ['Phase2', 'Phase3']"